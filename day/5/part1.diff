def add_line(diagram, line):					def add_line(diagram, line):
    for pt in line:						    for pt in line:
        if pt in diagram:				      |	        if diagram[pt[0]][pt[1]]:
            diagram[pt] += 1				      |	            diagram[pt[0]][pt[1]] += 1
        else:							        else:
            diagram[pt] = 1				      |	            diagram[pt[0]][pt[1]] = 1

def get_line(x1, y1, x2, y2):					def get_line(x1, y1, x2, y2):
    line = []							    line = []
    if x1 == x2:						    if x1 == x2:
        for y in range(min(y1, y2), max(y1, y2)+1):		        for y in range(min(y1, y2), max(y1, y2)+1):
            line.append((x1, y))				            line.append((x1, y))
    elif y1 == y2:						    elif y1 == y2:
        for x in range(min(x1, x2), max(x1, x2)+1):		        for x in range(min(x1, x2), max(x1, x2)+1):
            line.append((x, y1))				            line.append((x, y1))
    return line							    return line

diagram = {}						      |	diagram = []
							      >	for i in range(1000):
							      >	    diagram.append([0] * 1000)

with open("input") as f:					with open("input") as f:
    input = f.readlines()					    input = f.readlines()

for pts in input:						for pts in input:
    pt1, pt2 = pts.split("->")					    pt1, pt2 = pts.split("->")
    x1, y1 = map(int, pt1.strip().split(","))			    x1, y1 = map(int, pt1.strip().split(","))
    x2, y2 = map(int, pt2.strip().split(","))			    x2, y2 = map(int, pt2.strip().split(","))
    line = get_line(x1, y1, x2, y2)				    line = get_line(x1, y1, x2, y2)
    if line:							    if line:
        add_line(diagram, line)					        add_line(diagram, line)

print("total =", sum([v > 1 for k,v in diagram.items()]))     |	print("total =", sum([v > 1 for r in diagram for v in r]))
